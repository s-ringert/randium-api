option_settings:
    - namespace: aws:elasticbeanstalk:cloudwatch:logs
      option_name: StreamLogs
      value: true
    - namespace: aws:elasticbeanstalk:cloudwatch:logs
      option_name: DeleteOnTerminate
      value: false
    - namespace: aws:elasticbeanstalk:cloudwatch:logs
      option_name: RetentionInDays
      value: 7

files:
    "/opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.d/laravel_logs.json" :
        mode: "000644"
        owner: root
        group: root
        content: |
            {
                "logs": {
                    "logs_collected": {
                        "files": {
                            "collect_list": [
                                {
                                    "file_path": "/var/app/current/storage/logs/*.log",
                                    "log_group_name": "/aws/elasticbeanstalk/Improdjinn-api-prod/var/app/current/storage/logs/",
                                    "log_stream_name": "{instance_id}"
                                }
                            ]
                        }
                    }
                }
            }
